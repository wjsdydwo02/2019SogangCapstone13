# 척추건강 관리 가방  - BACKGUARD
서강 캡스톤 13조 프로젝트
## 1. 개요

### 무엇을 만드는가?
#### 사용자의 가방의 무게와 어깨에 가해지는 압력을 측정하여 분석함으로써 척추에 나쁜 가방 사용 습관 개선에 도움을 주는 스마트 가방입니다

### 왜 만드는가?
#### 가방을 잘못 매는 습관은 학생들의 척추 건강을 해친다. 그래서, 올바른 가방을 매는 습관을 들일 수 있게 도움을 주는 스마트 가방을 통해 학생들의 척추 건강을 보호하고자 한다.

## 2. 시스템 구성도
![아키텍처 구조](/architecture.png)

* 제품에 사용되는 시스템
  + NODE MCU
    - 센서들로 측정한 값을 1차적으로 처리하고 Wifi를 통해 HTTP 프로토콜로 서버에 전송한다. 서버 연결이 불가능할 경우, 블루투스로 휴대전화에 전달한다. 
  + 대기압 센서 (BMP 180 센서 모듈) * 2
    - 공기가 들어간 쿠션과 함께 활용하여, 쿠션에 가해지는 압력을 측정한다. 유체를 통해 압력이 전달되므로, 가방 줄이나 매는 방식 등에 따라 측정이 잘 되지 않는 점을 보완할 수 있다
  + 20Kg 로드셀(YZC131A) * 2 + HX711 모듈
  + 블루투스 모듈 (HC-06)
    - 휴대전화와 페어링하여, 측정값을 전달하기 위해 활용한다. 휴대전화로부터 기본적인 사용자 설정을 전달받는다.
  
* 휴대전화
 + APK 형식 App 작성
  - 분석 결과를 사용자에게 전달
  - 내장된 Bluetooth 기능으로 사용자 설정을 제품에 전달

* Amazon EC2
  + NodeJS 와 Express 로 서버 구성
  + MySQL을 활용하여 데이터 저장/ 분석
  + Html을 이용, 사용자에게 전달할 문서 형식 활용

## 3. 데이터 구성도
![아키텍처 구조](/data_architecture.png)
* 데이터 생성: 
  + 로드셀: 가방 좌 우 무게 비율 측정, 짐 자체의 무게 측정
  + 압력 센서: 어깨에 가해지는 압력의 좌, 우 비율 측정

* 가공: 
  + Node MCU 를 이용한 측정간격 조정 
    - 로드셀을 이용한 무게의 긴 간격 측정, 가방을 멜 때의 무게 확인
    - 쿠션 압력을 비율 위주로 측정 및 기록, 압력 자체의 시간에 따른 변화를 측정


* 처리 
  + MySQL 과 NodeJS : 사용기간 동안의 데이터를 기록, 분석
    - 장기간의 가방 무게 및 양 어깨 부하 비율들의 추세, 그리고 두 데이터간의 관계 계산

* 의미 도출 : 
    + 가방을 멜 때의 무게
    + 짧은 시간 간격의 반복적인 어깨 압력 변화
      - 걸음으로 인한 변화이기 때문에 걸음 수를 측정할 수 있음
    + 짐의 무게중심 방향과 양 어깨 부하 방향의 불일치
      - 가방 끈 또는 사용자 자세 불량 (가방 끈에 대한 권고 이후 변화가 없을 시 자세의 불량이라고 짐작 가능)
    + 장기간동안 무거운 가방을 메는 습관과 사용자 자세의 불량
      - 사용자의 나쁜 습관 경고
